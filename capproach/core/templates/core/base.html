{% load static %}

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>
<body>

	<div class="modal fade" tabindex="-1" role="dialog" id="modal">
		<div class="modal-dialog" role="document">
			<div class="modal-content"></div>
		</div>
	</div>

	<div class="container py-3">

		{% include "core/_header.html" %}

		<div class="d-flex justify-content-center mb-4">
            <h1>
            	cold approach statistics (capproach)
            </h1>
		</div>



		<div class="d-flex justify-content-center mb-4">
			<p class="text-muted ml-auto m-0">Created and maintained by
				<a href="https://github.com/jerwinwieser" target="_blank" style="text-decoration: none;">
					<svg style="margin-bottom: -3px; margin-right: 2px;" viewbox="0 0 64 64" width="16" height="16">
						<path
						stroke-width="0"
						fill="currentColor"
						d="M32 0 C14 0 0 14 0 32 0 53 19 62 22 62 24 62 24 61 24 60 L24 55 C17 57 14 53 13 50 13 50 13 49 11 47 10 46 6 44 10 44 13 44 15 48 15 48 18 52 22 51 24 50 24 48 26 46 26 46 18 45 12 42 12 31 12 27 13 24 15 22 15 22 13 18 15 13 15 13 20 13 24 17 27 15 37 15 40 17 44 13 49 13 49 13 51 20 49 22 49 22 51 24 52 27 52 31 52 42 45 45 38 46 39 47 40 49 40 52 L40 60 C40 61 40 62 42 62 45 62 64 53 64 32 64 14 50 0 32 0 Z"></path>
					</svg>
				</a>
				<a href="https://github.com/jerwinwieser" target="_blank">jwr</a>
			</p>
		</div>

		<div class="d-flex justify-content-center">
			<div class="d-flex flex-column flex-md-row align-items-center pb-3 mb-4">
				<button id="contact-create" class="btn btn-primary btn-lg" type="button" name="button">Add Approach</button>
			</div>
		</div>

		{% block content %}{% endblock %}


		{% include "core/_footer.html" %}


	</div>

	<script src="{% static 'assets/js/jquery-3.2.1.min.js' %}"></script>
	<script src="{% static 'assets/js/popper.min.js' %}"></script>
	<script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
	<!-- You can alternatively load the minified version -->
	<script src="{% static 'js/jquery.bootstrap.modal.forms.js' %}"></script>


	<script type="text/javascript">

		$(function () {
			$("#contact-create").modalForm({
				formURL: "{% url 'contact_create' %}"
			});

			$(".contact-read").each(function () {
				$(this).modalForm({formURL: $(this).data("form-url")});
			});

			$(".contact-delete").each(function () {
				$(this).modalForm({formURL: $(this).data("form-url"), isDeleteForm: true});
			});

			var asyncSuccessMessage = [
			"<div ",
			"style='position:fixed;top:0;z-index:10000;width:100%;border-radius:0;' ",
			"class='alert alert-icon alert-success alert-dismissible fade show mb-0' role='alert'>",
			"Success: Gym was updated.",
			"<button type='button' class='close' data-dismiss='alert' aria-label='Close'>",
			"<span aria-hidden='true'>&times;</span>",
			"</button>",
			"</div>",
			"<script>",
			"$('.alert').fadeTo(2000, 500).slideUp(500, function () {$('.alert').slideUp(500).remove();});",
			"<\/script>"
			].join("");

			function updateContactModalForm() {
				$(".contact-update").each(function () {
					$(this).modalForm({
						formURL: $(this).data("form-url"),
						asyncUpdate: true,
						asyncSettings: {
							closeOnSubmit: true,
							successMessage: asyncSuccessMessage,
							dataUrl: "tables/",
							dataElementId: "#contacts",
							dataKey: "table",
							addModalFormFunction: updateContactModalForm
						}
					});
				});
			}
			updateContactModalForm();

		// Read and Delete person buttons open modal with id="modal"
		// The formURL is retrieved from the data of the element
		$(".bs-modal").each(function () {
			$(this).modalForm({formURL: $(this).data("form-url")});
		});

		// Hide message
		$(".alert").fadeTo(2000, 500).slideUp(500, function () {
			$(".alert").slideUp(500);
		});
	});

</script>

</body>
</html>